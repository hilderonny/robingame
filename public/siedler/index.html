<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Use correct character set. -->
    <meta charset="utf-8">
    <!-- Tell IE to use the latest, best version. -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Make the application on mobile take up the full browser screen and disable user scaling. -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <title>Hello World!</title>
    <script src="Cesium/Cesium.js"></script>
    <style>
        @import url(Cesium/Widgets/widgets.css);
        html,
        body,
        #cesiumContainer {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <div id="cesiumContainer"></div>
    <script>
        Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJjNjcxOWU5NS03ZWQ4LTRjZjMtYmUyNi04MjE0ZjFiN2I0NjciLCJpZCI6MTQ3OCwiaWF0IjoxNTI4NjM0MzE5fQ.dgH-7CobMOwkmxJczcbVAqhLNNbu6WWl1r8bqv6ktao';

        var viewer = new Cesium.Viewer('cesiumContainer', {
            animation: false,
            baseLayerPicker: false,
            fullscreenButton: true,
            vrButton: true,
            geocoder: false,
            homeButton: true,
            infoBox: false,
            sceneModePicker: false,
            selectionIndicator: false,
            timeline: false,
            navigationHelpButton: false,
            navigationInstructionsInitiallyVisible: false,
            scene3DOnly: true,
            imageryProvider: Cesium.createOpenStreetMapImageryProvider({
                url: 'https://stamen-tiles.a.ssl.fastly.net/watercolor/',
                maximumLevel: 16,
            }),
            terrainProvider: Cesium.createWorldTerrain(),
        });

        function flyToGeoLocation(geolocation) {
            var pointOfInterest = Cesium.Cartographic.fromDegrees(
                geolocation.coords.longitude,
                geolocation.coords.latitude,
                1000.0,
                new Cesium.Cartographic());
            Cesium.sampleTerrain(viewer.terrainProvider, 9, [pointOfInterest]).then(function (samples) {
                var height = samples && samples[0] && samples[0].height ? samples[0].height : 0.0;
                viewer.camera.flyTo({
                    destination: Cesium.Cartesian3.fromDegrees(
                        geolocation.coords.longitude,
                        geolocation.coords.latitude,
                        height + 500)
                });
            });
        }

        function goHome() {
            navigator.geolocation.getCurrentPosition(flyToGeoLocation);
        }

        viewer.scene.fog.density = 0.02;

        viewer.camera.flyHome = goHome;

        goHome();

    </script>
</body>

</html>